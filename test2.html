<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head>
    <script src="https://cdn.jsdelivr.net/npm/dsbridge@3.1.4/dist/dsbridge.js"></script>
    <body>
        <div class="container">
            <div id="where">是否在App中</div>
            <div id="pic_progress">图片下载进度</div>
            <div id="video_progress">视频下载进度</div>
            <button onclick="downloadPic()">下载图片</button>
            <button onclick="downloadVideo()">下载视频</button>
        </div>
        
        <style>
            
        </style>
        
        <script>
            var mgApp = window.mgApp
            document.getElementById('where').innerText = (mgApp ? '在' : '不在') + 'App内';
            
            function downloadPic() {
                if (mgApp) {
                    mgApp.downloadFile(JSON.stringify({'fileUrl':'https://pic.rmb.bdstatic.com/bjh/down/39dbdb1db7e1e9c965a2a23449ec82d6.jpeg', 'fileExt':'jpeg'}));
                }
                else {
                    console.log(1111)
                }
            }

            function downloadVideo() {
                if (mgApp) {
                    mgApp.downloadFile(JSON.stringify({'fileUrl':'https://vd2.bdstatic.com/mda-pidaq819sq1wvrvz/sc/cae_h264/1694760819192816129/mda-pidaq819sq1wvrvz.mp4', 'fileExt':'mp4'}));
                }
                else {
                    console.log(2222)
                }
            }

            function downloadFileProgress(fileUrl, progress) {
                if (fileUrl == 'https://pic.rmb.bdstatic.com/bjh/down/39dbdb1db7e1e9c965a2a23449ec82d6') {
                    document.getElementById('pic_progress').innerText = progress
                }
                else if (fileUrl == 'https://vd2.bdstatic.com/mda-pidaq819sq1wvrvz/sc/cae_h264/1694760819192816129/mda-pidaq819sq1wvrvz') {
                    document.getElementById('video_progress').innerText = progress
                }
            }
        </script>
        
    </body>
</html>
